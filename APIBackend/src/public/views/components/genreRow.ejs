<tr>
    <td><%= index + 1 %></td>
    <td><%= genre.name %></td>
    <td>
        <button class="update-btn" onclick="openUpdateModal('<%= genre.id %>', '<%= genre.name %>')">Update</button>
        <button class="delete-btn" onclick="confirmDelete('<%= genre.id %>')">Delete</button>
    </td>
</tr>

<script>
    async function confirmDelete(genreId) {
        if (confirm('Are you sure you want to delete this genre?')) {
            // window.location.href = `/deleteGenre/${genreId}`;

            const res = await fetch(`/v1/api/genres/${genreId}`, {
                method: 'DELETE',
                credentials: 'include',
            });

            if (!res.ok) {
                alert('An error occurred while delete the genre.');
            }

            location.reload();
        }
    }
</script>
